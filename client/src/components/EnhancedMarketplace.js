import React, { useState, useEffect } from 'react';\nimport './EnhancedMarketplace.css';\n\nfunction EnhancedMarketplace({ analysisData }) {\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [marketplace, setMarketplace] = useState([]);\n\n  useEffect(() => {\n    // Mock enhanced marketplace data - replace with API call\n    setMarketplace([\n      {\n        category: 'AI & Machine Learning',\n        providers: [\n          {\n            name: 'OpenAI GPT-4',\n            company: 'OpenAI',\n            url: 'https://openai.com',\n            logo: '🤖',\n            description: 'Världens mest avancerade språkmodell med överlägsen förståelse för naturlig konversation och komplex problemlösning.',\n            detailedDescription: 'OpenAI GPT-4 revolutionerar kundinteraktion genom att möjliggöra naturliga, intelligenta konversationer som kan hantera 80% av kundförfrågningar automatiskt. Med stöd för 50+ språk och avancerad kontextförståelse.',\n            keyFeatures: [\n              'Naturlig språkförståelse och generation',\n              'Kodgenerering och debugging-assistans',\n              'Flerspråkigt stöd (50+ språk)',\n              'Function calling för API-integrationer',\n              'Stor kunskapsbas och reasoning-förmåga'\n            ],\n            pricing: {\n              model: 'Pay-per-use',\n              cost: '$0.03 per 1K input tokens, $0.06 per 1K output tokens',\n              contextWindow: '128K tokens',\n              estimatedMonthlyCost: '$200-800 för typisk implementation'\n            },\n            businessImpact: {\n              customerSatisfaction: '+40%',\n              supportCostReduction: '60%',\n              responseTime: '95% snabbare',\n              availability: '24/7 utan personalkostnader'\n            },\n            pros: [\n              'Bäst i klassen för naturlig dialog',\n              'Mycket stor kunskapsbas',\n              'Kontinuerliga modelluppdateringar',\n              'Robust API med excellent dokumentation',\n              'Stöder function calling för integrationer'\n            ],\n            cons: [\n              'Högre kostnad än konkurrenter',\n              'Kräver noggrann prompt engineering',\n              'Kan hallucinera fakta',\n              'Rate limits kan vara begränsande'\n            ],\n            useCases: [\n              'Kundtjänstchatbots med naturlig konversation',\n              'Innehållsgenerering för marknadsföring',\n              'Kodassistans och debugging',\n              'Språköversättning och lokalisering',\n              'Dokumentanalys och sammanfattning'\n            ],\n            implementationTime: '2-4 veckor',\n            complexity: 'Medium',\n            roi: '300-500% inom 6 månader',\n            gdprCompliant: true\n          },\n          {\n            name: 'Anthropic Claude',\n            company: 'Anthropic',\n            url: 'https://anthropic.com',\n            logo: '🛡️',\n            description: 'Säkerhetsfokuserad AI-assistent med stark etisk grund, designad för pålitliga och hjälpsamma svar.',\n            detailedDescription: 'Claude är byggd med säkerhet i fokus, perfekt för företag som hanterar känslig kunddata. Med 200K token context window och stark etisk grund, ger Claude pålitliga svar utan att kompromissa med säkerheten.',\n            keyFeatures: [\n              'Säker och pålitlig konversation',\n              'Stort kontextfönster (200K tokens)',\n              'Etisk resonering och säkerhetsfilter',\n              'Mindre benägen att hallucinera',\n              'Kostnadseffektiv prissättning'\n            ],\n            pricing: {\n              model: 'Pay-per-use',\n              cost: '$0.008 per 1K input tokens, $0.024 per 1K output tokens',\n              contextWindow: '200K tokens',\n              estimatedMonthlyCost: '$100-400 för typisk implementation'\n            },\n            businessImpact: {\n              trustIncrease: '+35%',\n              complianceImprovement: '+50%',\n              riskReduction: 'Hög',\n              costEfficiency: '+25%'\n            },\n            pros: [\n              'Mycket säker och pålitlig',\n              'Bra för känslig kunddata',\n              'Kostnadseffektiv',\n              'Stort kontextfönster',\n              'Mindre benägen att hallucinera'\n            ],\n            cons: [\n              'Mindre kreativ än GPT-4',\n              'Begränsad tillgänglighet',\n              'Mindre känd bland användare',\n              'Färre tredjepartsintegrationer'\n            ],\n            useCases: [\n              'Säker kundtjänst för finansiella tjänster',\n              'Innehållsmoderering och compliance',\n              'Juridisk assistans och dokumentgranskning',\n              'Utbildningsverktyg och e-learning',\n              'Forskningsassistans och dataanalys'\n            ],\n            implementationTime: '2-3 veckor',\n            complexity: 'Medium',\n            roi: '250-400% inom 6 månader',\n            gdprCompliant: true\n          }\n        ]\n      },\n      {\n        category: 'Betalningar & E-handel',\n        providers: [\n          {\n            name: 'Stripe',\n            company: 'Stripe Inc.',\n            url: 'https://stripe.com',\n            logo: '💳',\n            description: 'Världens mest utvecklarvänliga betalningsinfrastruktur som hanterar miljontals transaktioner.',\n            detailedDescription: 'Stripe revolutionerar online-betalningar genom att göra det enkelt för utvecklare att integrera säkra, skalbar betalningslösningar. Med stöd för 135+ valutor och alla stora betalmetoder, plus avancerade funktioner som prenumerationshantering och fraud-skydd.',\n            keyFeatures: [\n              'Kortbetalningar (Visa, Mastercard, Amex)',\n              'Digitala plånböcker (Apple Pay, Google Pay)',\n              'Prenumerationer och återkommande betalningar',\n              'Marketplace och split payments',\n              'Avancerat fraud-skydd med ML',\n              'Global betalningsoptimering',\n              'Detaljerad analytics och rapportering'\n            ],\n            pricing: {\n              model: 'Per-transaction',\n              cost: '2.9% + 30¢ per lyckad transaktion',\n              internationalCards: '+1.5%',\n              setupFee: '$0',\n              monthlyFee: '$0'\n            },\n            businessImpact: {\n              conversionIncrease: '15-25%',\n              checkoutAbandonmentReduction: '20%',\n              globalReach: '195+ länder',\n              fraudReduction: 'Upp till 50%'\n            },\n            pros: [\n              'Excellent utvecklarupplevelse',\n              'Mycket säker och PCI-compliant',\n              'Global räckvidd med lokal optimering',\n              'Kraftfull dashboard och analytics',\n              'Omfattande API med webhooks'\n            ],\n            cons: [\n              'Högre avgifter för små volymer',\n              'Kan hålla kvar pengar vid misstänkt aktivitet',\n              'Begränsad i vissa högrisk-industrier',\n              'Komplex prissättning för avancerade funktioner'\n            ],\n            useCases: [\n              'E-handel och online-butiker',\n              'SaaS-prenumerationer',\n              'Marketplace-plattformar',\n              'Crowdfunding-plattformar',\n              'Event-biljetter och donation-plattformar'\n            ],\n            implementationTime: '1-2 veckor',\n            complexity: 'Low-Medium',\n            roi: '200-300% inom 3 månader',\n            gdprCompliant: true\n          },\n          {\n            name: 'Klarna',\n            company: 'Klarna Bank AB',\n            url: 'https://www.klarna.com',\n            logo: '🛍️',\n            description: 'Europas ledande \"buy now, pay later\"-tjänst som ökar köpkraft och konvertering.',\n            detailedDescription: 'Klarna transformerar e-handelsupplevelsen genom att erbjuda flexibla betalningsalternativ som ökar kundernas köpkraft. Med över 150 miljoner aktiva användare globalt, hjälper Klarna företag öka genomsnittlig ordervolym med 30%.',\n            keyFeatures: [\n              'Pay in 4 - dela upp köp i 4 räntefria delbetalningar',\n              'Pay in 30 days - betala inom 30 dagar',\n              'Financing - längre finansieringsalternativ',\n              'Smooth checkout-upplevelse',\n              'Köparskydd och garantier',\n              'Realtids kreditbedömning'\n            ],\n            pricing: {\n              model: 'Per-transaction',\n              payNow: '2.49% + 30¢',\n              payLater: '3.29% + 30¢',\n              financing: '3.29% - 8.99% + 30¢',\n              setupFee: '$0'\n            },\n            businessImpact: {\n              averageOrderValueIncrease: '30%',\n              conversionRateIncrease: '20%',\n              cartAbandonmentReduction: '25%',\n              customerAcquisition: '+15%'\n            },\n            pros: [\n              'Ökar genomsnittlig ordervolym betydligt',\n              'Populärt bland millennials och Gen Z',\n              'Smooth och snabb checkout',\n              'Inbyggt köparskydd',\n              'Stark varumärkeskännedom i Europa'\n            ],\n            cons: [\n              'Begränsat till vissa marknader',\n              'Kräver kreditkontroll av kunder',\n              'Högre avgifter än traditionella betalningar',\n              'Striktare merchant-krav'\n            ],\n            useCases: [\n              'Fashion och kläder',\n              'Elektronik och gadgets',\n              'Heminredning och möbler',\n              'Skönhet och kosmetika',\n              'Högre prispunkter (>500 SEK)'\n            ],\n            implementationTime: '1-2 veckor',\n            complexity: 'Low',\n            roi: '250-400% inom 3 månader',\n            gdprCompliant: true\n          }\n        ]\n      }\n    ]);\n  }, []);\n\n  const filteredProviders = selectedCategory === 'all' \n    ? marketplace.flatMap(cat => cat.providers)\n    : marketplace.find(cat => cat.category === selectedCategory)?.providers || [];\n\n  const categories = ['all', ...marketplace.map(cat => cat.category)];\n\n  return (\n    <div className=\"enhanced-marketplace\">\n      <div className=\"marketplace-header\">\n        <h2>🏪 AI & API Marketplace</h2>\n        <p>Konkreta lösningar från branschledande leverantörer</p>\n      </div>\n\n      <div className=\"category-filter\">\n        {categories.map(category => (\n          <button\n            key={category}\n            className={`category-btn ${selectedCategory === category ? 'active' : ''}`}\n            onClick={() => setSelectedCategory(category)}\n          >\n            {category === 'all' ? 'Alla kategorier' : category}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"providers-grid\">\n        {filteredProviders.map((provider, index) => (\n          <div key={index} className=\"provider-card\">\n            <div className=\"provider-header\">\n              <div className=\"provider-logo\">{provider.logo}</div>\n              <div className=\"provider-info\">\n                <h3>{provider.name}</h3>\n                <p className=\"company\">{provider.company}</p>\n                <a href={provider.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"provider-url\">\n                  {provider.url}\n                </a>\n              </div>\n            </div>\n\n            <p className=\"provider-description\">{provider.description}</p>\n\n            <div className=\"business-impact\">\n              <h4>📈 Affärsnytta</h4>\n              <div className=\"impact-metrics\">\n                {Object.entries(provider.businessImpact).map(([key, value]) => (\n                  <div key={key} className=\"impact-metric\">\n                    <span className=\"metric-label\">{key.replace(/([A-Z])/g, ' $1').toLowerCase()}:</span>\n                    <span className=\"metric-value\">{value}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"pricing-info\">\n              <h4>💰 Prissättning</h4>\n              <p><strong>Modell:</strong> {provider.pricing.model}</p>\n              <p><strong>Kostnad:</strong> {provider.pricing.cost}</p>\n              {provider.pricing.estimatedMonthlyCost && (\n                <p><strong>Uppskattat/månad:</strong> {provider.pricing.estimatedMonthlyCost}</p>\n              )}\n            </div>\n\n            <div className=\"implementation-info\">\n              <div className=\"impl-stat\">\n                <span className=\"label\">⏱️ Implementeringstid:</span>\n                <span className=\"value\">{provider.implementationTime}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">🔧 Komplexitet:</span>\n                <span className=\"value\">{provider.complexity}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">📊 ROI:</span>\n                <span className=\"value\">{provider.roi}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">🔒 GDPR:</span>\n                <span className=\"value\">{provider.gdprCompliant ? '✅ Compliant' : '❌ Ej compliant'}</span>\n              </div>\n            </div>\n\n            <div className=\"provider-actions\">\n              <button \n                className=\"btn-primary\"\n                onClick={() => setSelectedProvider(provider)}\n              >\n                Visa detaljer\n              </button>\n              <a \n                href={provider.url} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"btn-secondary\"\n              >\n                Besök webbsida\n              </a>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {selectedProvider && (\n        <div className=\"provider-modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>{selectedProvider.name} - Detaljerad information</h2>\n              <button \n                className=\"close-btn\"\n                onClick={() => setSelectedProvider(null)}\n              >\n                ✕\n              </button>\n            </div>\n\n            <div className=\"modal-body\">\n              <div className=\"detailed-description\">\n                <h3>📋 Detaljerad beskrivning</h3>\n                <p>{selectedProvider.detailedDescription}</p>\n              </div>\n\n              <div className=\"key-features\">\n                <h3>⭐ Nyckelfunktioner</h3>\n                <ul>\n                  {selectedProvider.keyFeatures.map((feature, index) => (\n                    <li key={index}>{feature}</li>\n                  ))}\n                </ul>\n              </div>\n\n              <div className=\"pros-cons\">\n                <div className=\"pros\">\n                  <h3>✅ Fördelar</h3>\n                  <ul>\n                    {selectedProvider.pros.map((pro, index) => (\n                      <li key={index}>{pro}</li>\n                    ))}\n                  </ul>\n                </div>\n                <div className=\"cons\">\n                  <h3>⚠️ Nackdelar</h3>\n                  <ul>\n                    {selectedProvider.cons.map((con, index) => (\n                      <li key={index}>{con}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n\n              <div className=\"use-cases\">\n                <h3>🎯 Användningsområden</h3>\n                <ul>\n                  {selectedProvider.useCases.map((useCase, index) => (\n                    <li key={index}>{useCase}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default EnhancedMarketplace;