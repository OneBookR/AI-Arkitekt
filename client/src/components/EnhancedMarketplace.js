import React, { useState, useEffect } from 'react';\nimport './EnhancedMarketplace.css';\n\nfunction EnhancedMarketplace({ analysisData }) {\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [marketplace, setMarketplace] = useState([]);\n\n  useEffect(() => {\n    // Mock enhanced marketplace data - replace with API call\n    setMarketplace([\n      {\n        category: 'AI & Machine Learning',\n        providers: [\n          {\n            name: 'OpenAI GPT-4',\n            company: 'OpenAI',\n            url: 'https://openai.com',\n            logo: 'ü§ñ',\n            description: 'V√§rldens mest avancerade spr√•kmodell med √∂verl√§gsen f√∂rst√•else f√∂r naturlig konversation och komplex probleml√∂sning.',\n            detailedDescription: 'OpenAI GPT-4 revolutionerar kundinteraktion genom att m√∂jligg√∂ra naturliga, intelligenta konversationer som kan hantera 80% av kundf√∂rfr√•gningar automatiskt. Med st√∂d f√∂r 50+ spr√•k och avancerad kontextf√∂rst√•else.',\n            keyFeatures: [\n              'Naturlig spr√•kf√∂rst√•else och generation',\n              'Kodgenerering och debugging-assistans',\n              'Flerspr√•kigt st√∂d (50+ spr√•k)',\n              'Function calling f√∂r API-integrationer',\n              'Stor kunskapsbas och reasoning-f√∂rm√•ga'\n            ],\n            pricing: {\n              model: 'Pay-per-use',\n              cost: '$0.03 per 1K input tokens, $0.06 per 1K output tokens',\n              contextWindow: '128K tokens',\n              estimatedMonthlyCost: '$200-800 f√∂r typisk implementation'\n            },\n            businessImpact: {\n              customerSatisfaction: '+40%',\n              supportCostReduction: '60%',\n              responseTime: '95% snabbare',\n              availability: '24/7 utan personalkostnader'\n            },\n            pros: [\n              'B√§st i klassen f√∂r naturlig dialog',\n              'Mycket stor kunskapsbas',\n              'Kontinuerliga modelluppdateringar',\n              'Robust API med excellent dokumentation',\n              'St√∂der function calling f√∂r integrationer'\n            ],\n            cons: [\n              'H√∂gre kostnad √§n konkurrenter',\n              'Kr√§ver noggrann prompt engineering',\n              'Kan hallucinera fakta',\n              'Rate limits kan vara begr√§nsande'\n            ],\n            useCases: [\n              'Kundtj√§nstchatbots med naturlig konversation',\n              'Inneh√•llsgenerering f√∂r marknadsf√∂ring',\n              'Kodassistans och debugging',\n              'Spr√•k√∂vers√§ttning och lokalisering',\n              'Dokumentanalys och sammanfattning'\n            ],\n            implementationTime: '2-4 veckor',\n            complexity: 'Medium',\n            roi: '300-500% inom 6 m√•nader',\n            gdprCompliant: true\n          },\n          {\n            name: 'Anthropic Claude',\n            company: 'Anthropic',\n            url: 'https://anthropic.com',\n            logo: 'üõ°Ô∏è',\n            description: 'S√§kerhetsfokuserad AI-assistent med stark etisk grund, designad f√∂r p√•litliga och hj√§lpsamma svar.',\n            detailedDescription: 'Claude √§r byggd med s√§kerhet i fokus, perfekt f√∂r f√∂retag som hanterar k√§nslig kunddata. Med 200K token context window och stark etisk grund, ger Claude p√•litliga svar utan att kompromissa med s√§kerheten.',\n            keyFeatures: [\n              'S√§ker och p√•litlig konversation',\n              'Stort kontextf√∂nster (200K tokens)',\n              'Etisk resonering och s√§kerhetsfilter',\n              'Mindre ben√§gen att hallucinera',\n              'Kostnadseffektiv priss√§ttning'\n            ],\n            pricing: {\n              model: 'Pay-per-use',\n              cost: '$0.008 per 1K input tokens, $0.024 per 1K output tokens',\n              contextWindow: '200K tokens',\n              estimatedMonthlyCost: '$100-400 f√∂r typisk implementation'\n            },\n            businessImpact: {\n              trustIncrease: '+35%',\n              complianceImprovement: '+50%',\n              riskReduction: 'H√∂g',\n              costEfficiency: '+25%'\n            },\n            pros: [\n              'Mycket s√§ker och p√•litlig',\n              'Bra f√∂r k√§nslig kunddata',\n              'Kostnadseffektiv',\n              'Stort kontextf√∂nster',\n              'Mindre ben√§gen att hallucinera'\n            ],\n            cons: [\n              'Mindre kreativ √§n GPT-4',\n              'Begr√§nsad tillg√§nglighet',\n              'Mindre k√§nd bland anv√§ndare',\n              'F√§rre tredjepartsintegrationer'\n            ],\n            useCases: [\n              'S√§ker kundtj√§nst f√∂r finansiella tj√§nster',\n              'Inneh√•llsmoderering och compliance',\n              'Juridisk assistans och dokumentgranskning',\n              'Utbildningsverktyg och e-learning',\n              'Forskningsassistans och dataanalys'\n            ],\n            implementationTime: '2-3 veckor',\n            complexity: 'Medium',\n            roi: '250-400% inom 6 m√•nader',\n            gdprCompliant: true\n          }\n        ]\n      },\n      {\n        category: 'Betalningar & E-handel',\n        providers: [\n          {\n            name: 'Stripe',\n            company: 'Stripe Inc.',\n            url: 'https://stripe.com',\n            logo: 'üí≥',\n            description: 'V√§rldens mest utvecklarv√§nliga betalningsinfrastruktur som hanterar miljontals transaktioner.',\n            detailedDescription: 'Stripe revolutionerar online-betalningar genom att g√∂ra det enkelt f√∂r utvecklare att integrera s√§kra, skalbar betalningsl√∂sningar. Med st√∂d f√∂r 135+ valutor och alla stora betalmetoder, plus avancerade funktioner som prenumerationshantering och fraud-skydd.',\n            keyFeatures: [\n              'Kortbetalningar (Visa, Mastercard, Amex)',\n              'Digitala pl√•nb√∂cker (Apple Pay, Google Pay)',\n              'Prenumerationer och √•terkommande betalningar',\n              'Marketplace och split payments',\n              'Avancerat fraud-skydd med ML',\n              'Global betalningsoptimering',\n              'Detaljerad analytics och rapportering'\n            ],\n            pricing: {\n              model: 'Per-transaction',\n              cost: '2.9% + 30¬¢ per lyckad transaktion',\n              internationalCards: '+1.5%',\n              setupFee: '$0',\n              monthlyFee: '$0'\n            },\n            businessImpact: {\n              conversionIncrease: '15-25%',\n              checkoutAbandonmentReduction: '20%',\n              globalReach: '195+ l√§nder',\n              fraudReduction: 'Upp till 50%'\n            },\n            pros: [\n              'Excellent utvecklarupplevelse',\n              'Mycket s√§ker och PCI-compliant',\n              'Global r√§ckvidd med lokal optimering',\n              'Kraftfull dashboard och analytics',\n              'Omfattande API med webhooks'\n            ],\n            cons: [\n              'H√∂gre avgifter f√∂r sm√• volymer',\n              'Kan h√•lla kvar pengar vid misst√§nkt aktivitet',\n              'Begr√§nsad i vissa h√∂grisk-industrier',\n              'Komplex priss√§ttning f√∂r avancerade funktioner'\n            ],\n            useCases: [\n              'E-handel och online-butiker',\n              'SaaS-prenumerationer',\n              'Marketplace-plattformar',\n              'Crowdfunding-plattformar',\n              'Event-biljetter och donation-plattformar'\n            ],\n            implementationTime: '1-2 veckor',\n            complexity: 'Low-Medium',\n            roi: '200-300% inom 3 m√•nader',\n            gdprCompliant: true\n          },\n          {\n            name: 'Klarna',\n            company: 'Klarna Bank AB',\n            url: 'https://www.klarna.com',\n            logo: 'üõçÔ∏è',\n            description: 'Europas ledande \"buy now, pay later\"-tj√§nst som √∂kar k√∂pkraft och konvertering.',\n            detailedDescription: 'Klarna transformerar e-handelsupplevelsen genom att erbjuda flexibla betalningsalternativ som √∂kar kundernas k√∂pkraft. Med √∂ver 150 miljoner aktiva anv√§ndare globalt, hj√§lper Klarna f√∂retag √∂ka genomsnittlig ordervolym med 30%.',\n            keyFeatures: [\n              'Pay in 4 - dela upp k√∂p i 4 r√§ntefria delbetalningar',\n              'Pay in 30 days - betala inom 30 dagar',\n              'Financing - l√§ngre finansieringsalternativ',\n              'Smooth checkout-upplevelse',\n              'K√∂parskydd och garantier',\n              'Realtids kreditbed√∂mning'\n            ],\n            pricing: {\n              model: 'Per-transaction',\n              payNow: '2.49% + 30¬¢',\n              payLater: '3.29% + 30¬¢',\n              financing: '3.29% - 8.99% + 30¬¢',\n              setupFee: '$0'\n            },\n            businessImpact: {\n              averageOrderValueIncrease: '30%',\n              conversionRateIncrease: '20%',\n              cartAbandonmentReduction: '25%',\n              customerAcquisition: '+15%'\n            },\n            pros: [\n              '√ñkar genomsnittlig ordervolym betydligt',\n              'Popul√§rt bland millennials och Gen Z',\n              'Smooth och snabb checkout',\n              'Inbyggt k√∂parskydd',\n              'Stark varum√§rkesk√§nnedom i Europa'\n            ],\n            cons: [\n              'Begr√§nsat till vissa marknader',\n              'Kr√§ver kreditkontroll av kunder',\n              'H√∂gre avgifter √§n traditionella betalningar',\n              'Striktare merchant-krav'\n            ],\n            useCases: [\n              'Fashion och kl√§der',\n              'Elektronik och gadgets',\n              'Heminredning och m√∂bler',\n              'Sk√∂nhet och kosmetika',\n              'H√∂gre prispunkter (>500 SEK)'\n            ],\n            implementationTime: '1-2 veckor',\n            complexity: 'Low',\n            roi: '250-400% inom 3 m√•nader',\n            gdprCompliant: true\n          }\n        ]\n      }\n    ]);\n  }, []);\n\n  const filteredProviders = selectedCategory === 'all' \n    ? marketplace.flatMap(cat => cat.providers)\n    : marketplace.find(cat => cat.category === selectedCategory)?.providers || [];\n\n  const categories = ['all', ...marketplace.map(cat => cat.category)];\n\n  return (\n    <div className=\"enhanced-marketplace\">\n      <div className=\"marketplace-header\">\n        <h2>üè™ AI & API Marketplace</h2>\n        <p>Konkreta l√∂sningar fr√•n branschledande leverant√∂rer</p>\n      </div>\n\n      <div className=\"category-filter\">\n        {categories.map(category => (\n          <button\n            key={category}\n            className={`category-btn ${selectedCategory === category ? 'active' : ''}`}\n            onClick={() => setSelectedCategory(category)}\n          >\n            {category === 'all' ? 'Alla kategorier' : category}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"providers-grid\">\n        {filteredProviders.map((provider, index) => (\n          <div key={index} className=\"provider-card\">\n            <div className=\"provider-header\">\n              <div className=\"provider-logo\">{provider.logo}</div>\n              <div className=\"provider-info\">\n                <h3>{provider.name}</h3>\n                <p className=\"company\">{provider.company}</p>\n                <a href={provider.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"provider-url\">\n                  {provider.url}\n                </a>\n              </div>\n            </div>\n\n            <p className=\"provider-description\">{provider.description}</p>\n\n            <div className=\"business-impact\">\n              <h4>üìà Aff√§rsnytta</h4>\n              <div className=\"impact-metrics\">\n                {Object.entries(provider.businessImpact).map(([key, value]) => (\n                  <div key={key} className=\"impact-metric\">\n                    <span className=\"metric-label\">{key.replace(/([A-Z])/g, ' $1').toLowerCase()}:</span>\n                    <span className=\"metric-value\">{value}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"pricing-info\">\n              <h4>üí∞ Priss√§ttning</h4>\n              <p><strong>Modell:</strong> {provider.pricing.model}</p>\n              <p><strong>Kostnad:</strong> {provider.pricing.cost}</p>\n              {provider.pricing.estimatedMonthlyCost && (\n                <p><strong>Uppskattat/m√•nad:</strong> {provider.pricing.estimatedMonthlyCost}</p>\n              )}\n            </div>\n\n            <div className=\"implementation-info\">\n              <div className=\"impl-stat\">\n                <span className=\"label\">‚è±Ô∏è Implementeringstid:</span>\n                <span className=\"value\">{provider.implementationTime}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">üîß Komplexitet:</span>\n                <span className=\"value\">{provider.complexity}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">üìä ROI:</span>\n                <span className=\"value\">{provider.roi}</span>\n              </div>\n              <div className=\"impl-stat\">\n                <span className=\"label\">üîí GDPR:</span>\n                <span className=\"value\">{provider.gdprCompliant ? '‚úÖ Compliant' : '‚ùå Ej compliant'}</span>\n              </div>\n            </div>\n\n            <div className=\"provider-actions\">\n              <button \n                className=\"btn-primary\"\n                onClick={() => setSelectedProvider(provider)}\n              >\n                Visa detaljer\n              </button>\n              <a \n                href={provider.url} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"btn-secondary\"\n              >\n                Bes√∂k webbsida\n              </a>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {selectedProvider && (\n        <div className=\"provider-modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>{selectedProvider.name} - Detaljerad information</h2>\n              <button \n                className=\"close-btn\"\n                onClick={() => setSelectedProvider(null)}\n              >\n                ‚úï\n              </button>\n            </div>\n\n            <div className=\"modal-body\">\n              <div className=\"detailed-description\">\n                <h3>üìã Detaljerad beskrivning</h3>\n                <p>{selectedProvider.detailedDescription}</p>\n              </div>\n\n              <div className=\"key-features\">\n                <h3>‚≠ê Nyckelfunktioner</h3>\n                <ul>\n                  {selectedProvider.keyFeatures.map((feature, index) => (\n                    <li key={index}>{feature}</li>\n                  ))}\n                </ul>\n              </div>\n\n              <div className=\"pros-cons\">\n                <div className=\"pros\">\n                  <h3>‚úÖ F√∂rdelar</h3>\n                  <ul>\n                    {selectedProvider.pros.map((pro, index) => (\n                      <li key={index}>{pro}</li>\n                    ))}\n                  </ul>\n                </div>\n                <div className=\"cons\">\n                  <h3>‚ö†Ô∏è Nackdelar</h3>\n                  <ul>\n                    {selectedProvider.cons.map((con, index) => (\n                      <li key={index}>{con}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n\n              <div className=\"use-cases\">\n                <h3>üéØ Anv√§ndningsomr√•den</h3>\n                <ul>\n                  {selectedProvider.useCases.map((useCase, index) => (\n                    <li key={index}>{useCase}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default EnhancedMarketplace;